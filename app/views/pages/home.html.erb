<div class="content-home-page">
  <div class="welcoming-top container-fluid d-flex align-items-center justify-content-between">
    <div class="welcome-home-page">
      <p>Welcome 👋 </p>
      <h1> <%= @user.first_name %> </h1>
    </div>
    <div class="param-bar-home-page d-flex align-items-center">
      <%= link_to do %>
        <button class="notification-home-page-btn"></button>
      <% end %>
      <%= link_to do %>
        <button class="settings-btn"></button>
      <% end %>
    </div>
  </div>

  <div class="day-run-container">
    <div class="info-item container-fluid d-flex align-items-center justify-content-between">
      <p class="run-session-date"><%= @run_session.date.strftime("%A %d %B") %></p>
      <div class="info-item-star d-flex">
        <% @run_star.times do %>
        <p class="star-notation">★</p>
        <% end %>
      </div>
    </div>
    <div class="info-item">
      <div class="block-seance container-fluid d-flex align-items-center">
        <p>Echauffement </p>
        <p> 20 min </p>
        <p>5:55/min/km</p>
      </div>
      <% if @run.kind == "interval run" %>
        <div class="block-seance container-fluid d-flex align-items-center">
          <p><%= @session_details[:intervals] %> x <%= @session_details[:interval_distance] %></p>
          <p><%= @session_details[:interval_pace] %>/min/km</p>
        </div>
      <% elsif @run.kind == "easy run" || @run.kind == "long run" %>
        <div class="block-seance container-fluid d-flex align-items-center">
          <p><%= @session_details[:distance] %> km</p>
          <p><%= @session_details[:pace] %>/min/km</p>
        </div>
      <% end %>
    </div>
  </div>



  <div class="next-week-calendar container-fluid d-flex justify-content-between">
    <% (Date.current..(Date.current + 6.days)).each do |date| %>
      <div class="next-week-card">
        <div class ="emoji-card-day container-fluid d-flex align-items-center justify-content-between">
          <h1>
            <% session = @next_week_sessions.find { |s| s.date == date } %>
            <% if session %>
              🏃
            <% else %>
              😴
            <% end %>
          </h1>
          <h4> <%= date.strftime("%A %d") %> </h4>
        </div>
        <div class="kind-time-card">
          <% if session %>
            <p><%= session.run.kind.capitalize %></p>
            <h2><%= session.run.formatted_time(session.run.total_time) %></h2>
          <% else %>
            <p>Repos</p>
            <h2></h2>
          <% end %>
        </div>
      </div>
    <% end %>
  </div>



  <div class="data-home-page container-fluid d-flex flex-column">
  <div class="progress custom-progress" role="progressbar" aria-label="Example with label" aria-valuenow="<%= @completion_percentage %>" aria-valuemin="0" aria-valuemax="100">
    <div class="progress-bar custom-progress-bar" style="width: <%= @completion_percentage %>%"><%= @completion_percentage %>%</div>
  </div>
  <div class="container-data-2 container-fluid d-flex justify-content-between">
    <div class="container-days-before-run"><%= @days_before_race %> jours avant votre course</div>
    <div class="container-run-this-week">Cette semaine vous avez couru <%= @km_this_week %> km</div>
  </div>
  </div>


  <div class="nav-bar-home-page container-fluid d-flex align-items-center justify-content-between">
  <%= link_to do %>
      <button class="calendar-btn"></button>
    <% end %>

  <%= link_to do %>
    <button class="go-btn"> Go </button>
  <% end %>

  <%= link_to do %>
    <button class="profil-btn"></button>
  <% end %>
  </div>
</div>
